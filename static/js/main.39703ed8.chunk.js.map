{"version":3,"sources":["reducers/dataSlice.js","config/config.js","components/details/Details.js","components/list/List.js","store.js","index.js"],"names":["dataSlice","createSlice","name","initialState","list","details","reducers","setData","state","action","payload","setDetails","actions","config","Details","data","style","height","maxWidth","margin","title","author","publisher","description","href","amazon_product_url","rel","target","List","useSelector","dispatch","useDispatch","React","useState","open","setOpen","handleClose","loader","setLoader","handleClick","event","defaultMuiPrevented","row","useEffect","fetch","method","then","response","json","results","forEach","result","index","tempObject","id","book_details","push","prepareData","catch","error","console","log","position","zIndex","width","left","top","CircularProgress","rows","columns","field","headerName","pageSize","rowsPerPageOptions","checkboxSelection","disableSelectionOnClick","onRowClick","Modal","onClose","Box","sx","bgcolor","border","borderRadius","p","px","pb","onClick","cursor","right","fontSize","configureStore","reducer","dataReducer","ReactDOM","render","store","document","getElementById"],"mappings":"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","file":"static/js/main.39703ed8.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\n\r\nexport const dataSlice = createSlice({\r\n\tname: 'data',\r\n\tinitialState: {\r\n\t\tlist: [],\r\n\t\tdetails : {}\r\n\t},\r\n\treducers: {\r\n\t\tsetData: (state,action) => {\r\n\t\t\tstate.list = action.payload\r\n\t\t},\r\n\t\tsetDetails: (state,action) => {\r\n\t\t\tstate.details = action.payload\r\n\t\t},\r\n\t},\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { setData, setDetails } = dataSlice.actions\r\n\r\nexport default dataSlice.reducer","export const config = {\r\n\tlink: \"https://developer.nytimes.com/\",\r\n\tapp: \"sdktset\",\r\n\tapiKey: \"mkWg5isuZ9532tcHQF15SnAZn7BXG62k\"\r\n}\r\n","import React from 'react'\r\nimport './Details.css';\r\n\r\nfunction Details({data}) {\r\n\t\treturn (\r\n\t\t\t<div style={{ height: 'auto', maxWidth: '100%',margin: '40px auto' }}>\r\n\t\t\t\t\t<h3>Book's details</h3>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><strong>Title: </strong>{data.title}</li>\r\n\t\t\t\t\t\t<li><strong>Author: </strong>{data.author}</li>\r\n\t\t\t\t\t\t<li><strong>Publisher: </strong>{data.publisher}</li>\r\n\t\t\t\t\t\t<li><strong>Description:</strong><br/>{data.description}</li>\r\n\t\t\t\t\t\t<li><strong>Link: </strong><a href={data.amazon_product_url} rel=\"noreferrer noopener\" target=\"_blank\">Amazon link</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default Details;","import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setData, setDetails } from '../../reducers/dataSlice';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport { config } from '../../config/config.js';\r\nimport Box from '@mui/material/Box';\r\nimport Modal from '@mui/material/Modal';\r\nimport Details from '../details/Details';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nfunction List() {\r\n\r\n\t\t//Define columns\r\n\t\tconst columns = [\r\n\t\t\t{ field: 'id', headerName: 'ID', width: 150 },\r\n\t\t\t{ field: 'title', headerName: 'Title', width: 350 },\r\n\t\t\t{ field: 'author', headerName: 'Author', width: 250 },\r\n\t\t\t{ field: 'publisher', headerName: 'Publisher', width: 250}\r\n\t\t];\r\n\t\t\r\n\t\t//Add modal's custom style \r\n\t\tconst style = {\r\n\t\t\tmargin: '100px auto',\r\n\t\t\twidth: 400,\r\n\t\t\tbgcolor: 'background.paper',\r\n\t\t\tborder: '1px solid #ccc',\r\n\t\t\tborderRadius: '5px',\r\n\t\t\tp: 2,\r\n\t\t\tpx: 4,\r\n\t\t\tpb: 3,\r\n\t\t\tposition: 'relative',\r\n\t\t};\r\n\r\n\t\t//Data for DataGrid\r\n\t\tconst data = useSelector((state) => state.data.list);\r\n\t\tconst details = useSelector((state) => state.data.details);\r\n\t\tconst dispatch = useDispatch();\r\n\r\n\t\t//Data for Modal\r\n\t\tconst [open, setOpen] = React.useState(false);\r\n\t\tconst handleOpen = () => setOpen(true);\r\n\t\tconst handleClose = () => setOpen(false);\r\n\t\t\r\n\t\t//Data for Loader\r\n\t\tconst [loader, setLoader] = React.useState(true);\r\n\r\n\t\t//Function: convert data from API into dataGrid data\r\n\t\tconst prepareData = (response) => {\r\n\t\t\tlet results = [];\r\n\t\t\tresponse.results.forEach((result,index) => {\r\n\t\t\t\tlet tempObject = {};\r\n\t\t\t\ttempObject.id = index;\r\n\t\t\t\ttempObject.title = result.book_details[0].title;\r\n\t\t\t\ttempObject.author = result.book_details[0].author;\r\n\t\t\t\ttempObject.publisher = result.book_details[0].publisher;\r\n\t\t\t\ttempObject.details = result.book_details[0];\r\n\t\t\t\ttempObject.details.amazon_product_url = result.amazon_product_url;\r\n\t\t\t\tresults.push(tempObject);\r\n\t\t\t});\r\n\t\t\treturn results;\r\n\t\t}\r\n\r\n\t\t//Function: handle click when user select a row\r\n\t\tconst handleClick = (event) => {\r\n\t\t\tevent.defaultMuiPrevented = true;\r\n\t\t\tdispatch(setDetails(event.row.details));\r\n\t\t\thandleOpen();\r\n\t\t}\r\n\r\n\t\tuseEffect(() => {\r\n\t\t\t//Call https://developer.nytimes.com/ API\r\n\t\t\tfetch(`https://api.nytimes.com/svc/books/v3/lists.json?list-name=hardcover-fiction&api-key=${config.apiKey}`, {\r\n\t\t\t\tmethod: 'get',\r\n\t\t\t})\r\n\t\t\t.then(response => { return response.json(); })\r\n\t\t\t.then(json => {\r\n\t\t\t\t//Get data API response and convert it into dataGrid data\r\n\t\t\t\tdispatch(setData(prepareData(json)));\r\n\t\t\t\tsetLoader(false);\r\n\t\t\t })\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log('NYT API Error: Defaulting to nytimes archival data.', error);\r\n\t\t\t});\r\n\t\t}, []);\r\n\r\n\t\treturn (\r\n\t\t\t<div style={{ height: '400px', maxWidth: '70%',margin: '40px auto',position: 'relative', zIndex: '0' }}>\r\n\t\t\t\t<h1>SPA with React to browse an API endpoint</h1>\r\n\t\t\t\t<h2>RAZAFINDRABE Burel Kiady Bezaka</h2>\r\n\t\t\t\t{loader ? (<div style={{ width: '45px',margin: '40px auto',position:'absolute', zIndex: '1',left: '48%',top: '60%' }}><CircularProgress/></div>) : ''}\r\n\t\t\t\t<DataGrid\r\n\t\t\t\t\trows={data}\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\tpageSize={5}\r\n\t\t\t\t\trowsPerPageOptions={[5]}\r\n\t\t\t\t\tcheckboxSelection={false}\r\n\t\t\t\t\tdisableSelectionOnClick={true}\r\n\t\t\t\t\tonRowClick={(event) => handleClick(event)}\r\n\t\t\t\t/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={open}\r\n\t\t\t\t\tonClose={handleClose}\r\n\t\t\t\t\taria-labelledby=\"parent-modal-title\"\r\n\t\t\t\t\taria-describedby=\"parent-modal-description\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<Box sx={{ ...style, width: 600 }}>\r\n\t\t\t\t\t\t<CloseIcon onClick={handleClose} style={{cursor:'pointer',position:'absolute', top:'0', right:'0', margin:'10px', fontSize:'35px'}}/>\r\n\t\t\t\t\t\t<Details data={details}/>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Modal>\r\n\t\t\t</div>\r\n\t\t);\r\n}\r\n\r\nexport default List;","import { configureStore } from '@reduxjs/toolkit'\r\nimport dataReducer from './reducers/dataSlice'\r\n\r\nexport default configureStore({\r\n\treducer: {\r\n\t\tdata: dataReducer,\r\n\t},\r\n})","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport List from './components/list/List';\r\nimport './index.css';\r\nimport store from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\nReactDOM.render(\r\n\t<Provider store={store}>\r\n\t\t<List />\r\n\t</Provider>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}